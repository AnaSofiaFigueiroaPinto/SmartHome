@startuml
title Add New Object request
autonumber
skinparam sequenceMessageAlign center
skinparam actorBackgroundColor white
skinparam participantBackgroundColor white
skinparam sequenceReferenceBackgroundColor white
skinparam sequenceReferenceHeaderBackgroundColor white
skinparam sequenceGroupBackgroundColor white

box "<<Container>>\n:Server"
participant ":Controller" as controller <<Component>>
participant "dto:DTO" as dto
participant "vo:VO" as vo
participant ":Service" as service <<Component>>
participant "domain:Domain" as domain <<Component>>
participant ":Repository" as repo <<Component>>
end box
autonumber
[o-> controller : Add new Object
activate controller
controller->vo** : create VOs from Request
controller->service : addNewObjectToOtherObject(VOs)
activate service
service-> domain** : createObjectAndSaveToRepository(VOs)
service->repo : save(Object)
activate repo
repo-->service : ObjectID
deactivate repo
service-->controller : return ObjectID
deactivate service
controller -> dto** : convert ObjectID to DTO
[o<--controller : return ObjectDTO

legend bottom
 **This request can be included in:**
 |= Request Add New Object |= Response |
 |= AddNewRoomToHouse (UC02) |= RoomDTO |
 |= AddNewDeviceToRoom (UC05) |= DeviceDTO|
 |= AddNewSensorToDevice (UC07.2) |= SensorDTO|
 |= AddNewActuatorToDevice (UC12.2) |= ActuatorDTO|
end legend
@endum