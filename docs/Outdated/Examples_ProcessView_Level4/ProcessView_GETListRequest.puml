@startuml
title GET Request

skinparam sequenceMessageAlign center
skinparam actorBackgroundColor white
skinparam participantBackgroundColor white
skinparam sequenceReferenceBackgroundColor white
skinparam sequenceReferenceHeaderBackgroundColor white
skinparam sequenceGroupBackgroundColor white


box "<<Container>>\n:Server"
participant ":Controller" as controller <<Component>>
participant "vo:ValueObject" as vo
participant ":MapperDTO" as mapperDTO <<Component>>
participant "dto:DTO" as dto
participant ":Service" as service <<Component>>
participant ":Repository" as repo <<Component>>
autonumber
[o-> controller : GET /Request
activate controller
controller->vo** : Create VO
controller->service : getListOfObjects(id)
activate service
service->repo : getListOfObjects(id)
activate repo
repo-->service : List<Object>
deactivate repo
service-->controller : List<Object>
deactivate service
controller -> mapperDTO: mapListToDTO(List<Object>)
activate mapperDTO
mapperDTO -> dto** : create ObjectDTO
mapperDTO-->controller : List<ObjectDTO>
deactivate mapperDTO

[o<--controller : List<ObjectDTO>

legend bottom
 **This request can be included in:**
|= Request GET |= Response |
|= api/houses/{id}/rooms (UC03.1) |= List<RoomDTO> |
|= api/rooms/{id}/devices (UC06) |= List<DeviceDTO> |
|= api/sensorfunctionality (UC07.1) |= List<SensorFunctionalityDTO> |
|= api/houses/{id} (UC09) |= Map<Object, Map<RoomDTO, DeviceDTO>>|
|= api/actuatorfunctionality (UC12.1) |= List<ActuatorFunctionalityDTO> |
|= api/devices/{id} (UC33) |= Map<SensorFunctionalityDTO, List<ReadingDTO>>|
|= api/houses/{id}/rooms (UC34.1) |= List<RoomDTO>|
|= api/devices/{id}/sensors (UC34.2) |= List<SensorsDTO>|
|= api/actuatorfunctionality/{id} (UC37.1) |= Map<DeviceDTO, RoomDTO>|
end legend
@enduml