<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="873px" preserveAspectRatio="none" style="width:1064px;height:873px;background:#FFFFFF;" version="1.1" viewBox="0 0 1064 873" width="1064px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="472" x="297.5" y="30.1074">UC36 - Get Peak Power consumption of the House in a given period</text><rect fill="#FFFFFF" height="555.5293" style="stroke:#181818;stroke-width:1.0;" width="10" x="306" y="195.6973"/><rect fill="#FFFFFF" height="48.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="359.7344"/><rect fill="none" height="403.7832" style="stroke:#000000;stroke-width:1.5;" width="983" x="75" y="317.1523"/><rect fill="none" height="202.0371" style="stroke:#000000;stroke-width:1.5;" width="810" x="85" y="467.6074"/><rect fill="none" height="168.7461" style="stroke:#000000;stroke-width:1.5;" width="790" x="95" y="493.8984"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="640" x="235" y="592.0625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="311" x2="311" y1="96.8633" y2="817.4785"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="875" x2="875" y1="96.8633" y2="817.4785"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="245" y="63.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="252" y="85.3496">PeakPowerService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="245" y="816.4785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="252" y="838.5859">PeakPowerService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="346" x="702" y="44.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="785" y="66.7285">mapOfPowerSourcesValues:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="332" x="709" y="85.3496">Map&lt;DeviceID,Map&lt;Timestamp, InstantTimeValue&gt;&gt;</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="346" x="702" y="816.4785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="785" y="838.5859">mapOfPowerSourcesValues:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="332" x="709" y="857.207">Map&lt;DeviceID,Map&lt;Timestamp, InstantTimeValue&gt;&gt;</text><rect fill="#FFFFFF" height="555.5293" style="stroke:#181818;stroke-width:1.0;" width="10" x="306" y="195.6973"/><rect fill="#FFFFFF" height="48.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="359.7344"/><rect fill="none" height="43.252" style="stroke:#000000;stroke-width:1.5;" width="258" x="242" y="106.8633"/><path d="M242,106.8633 L304,106.8633 L304,115.8633 L294,125.8633 L242,125.8633 L242,106.8633 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="255" y="122.8916">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="250" x="246" y="142.8125">UC36-SD_Part1-GetPeakPowerConsumption</text><polygon fill="#181818" points="294,191.6973,304,195.6973,294,199.6973,298,195.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="300" y1="195.6973" y2="195.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="7" y="181.7891">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="18" y="173.1436">calculatePeakPowerConsumption</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="18" y="190.4346">(powerGridValues, mapOfPowerSourcesValues)</text><path d="M147,208.6973 L147,304.6973 L475,304.6973 L475,218.6973 L465,208.6973 L147,208.6973 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M465,208.6973 L465,218.6973 L475,218.6973 L465,208.6973 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="153" y="227.7256">For each PowerGrid Value, find PowerSource Values</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="157" y="245.0166">that are within the end Time of the PowerGrid Value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="157" y="262.3076">and the defined cadence.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="157" y="279.5986">The peakPowerConsumption Value is tracked in the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="157" y="296.8896">peakPowerConsumption variable.</text><path d="M75,317.1523 L148,317.1523 L148,326.4434 L138,336.4434 L75,336.4434 L75,317.1523 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="403.7832" style="stroke:#000000;stroke-width:1.5;" width="983" x="75" y="317.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="90" y="332.1807">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="200" x="163" y="331.0225">[for each Value in powerGridValues]</text><polygon fill="#181818" points="858,355.7344,868,359.7344,858,363.7344,862,359.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="316" x2="864" y1="359.7344" y2="359.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="354.4717">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="334" y="354.4717">values()</text><polygon fill="#181818" points="327,404.3164,317,408.3164,327,412.3164,323,408.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="321" x2="874" y1="408.3164" y2="408.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="333" y="394.4082">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="344" y="385.7627">Map&lt;Timestamp, InstantTimeValue&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="348" y="403.0537">mapOfValuesPerDevice</text><line style="stroke:#181818;stroke-width:1.0;" x1="316" x2="358" y1="439.6074" y2="439.6074"/><line style="stroke:#181818;stroke-width:1.0;" x1="358" x2="358" y1="439.6074" y2="452.6074"/><line style="stroke:#181818;stroke-width:1.0;" x1="317" x2="358" y1="452.6074" y2="452.6074"/><polygon fill="#181818" points="327,448.6074,317,452.6074,327,456.6074,323,452.6074" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="434.3447">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="340" x="334" y="434.3447">totalConsumption = Value.getReading().getMeasurement())</text><path d="M85,467.6074 L158,467.6074 L158,476.8984 L148,486.8984 L85,486.8984 L85,467.6074 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="202.0371" style="stroke:#000000;stroke-width:1.5;" width="810" x="85" y="467.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="100" y="482.6357">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="232" x="173" y="481.4775">[for each mapOfValuesPerDevice.values()]</text><path d="M95,493.8984 L168,493.8984 L168,503.1895 L158,513.1895 L95,513.1895 L95,493.8984 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="168.7461" style="stroke:#000000;stroke-width:1.5;" width="790" x="95" y="493.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="110" y="508.9268">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="276" x="183" y="507.7686">[for each Entry in mapOfValuesPerDevice.values()]</text><path d="M105,518.1895 L105,579.1895 L517,579.1895 L517,528.1895 L507,518.1895 L105,518.1895 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M507,518.1895 L507,528.1895 L517,528.1895 L507,518.1895 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="391" x="111" y="537.2178">If PowerSource Value is within the end Time of the PowerGrid Value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="115" y="554.5088">and the defined cadence,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="115" y="571.7998">add the consumption to the totalConsumption</text><path d="M235,592.0625 L300,592.0625 L300,601.3535 L290,611.3535 L235,611.3535 L235,592.0625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="63.582" style="stroke:#000000;stroke-width:1.5;" width="640" x="235" y="592.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="250" y="607.0908">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="328" x="315" y="605.9326">[if Timestamp NOT before startTime &amp;&amp; NOT after endTime]</text><line style="stroke:#181818;stroke-width:1.0;" x1="316" x2="358" y1="634.6445" y2="634.6445"/><line style="stroke:#181818;stroke-width:1.0;" x1="358" x2="358" y1="634.6445" y2="647.6445"/><line style="stroke:#181818;stroke-width:1.0;" x1="317" x2="358" y1="647.6445" y2="647.6445"/><polygon fill="#181818" points="327,643.6445,317,647.6445,327,651.6445,323,647.6445" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="629.3818">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="529" x="334" y="629.3818">totalConsumption += Double.parseDouble(Entry.getValue().getReading().getMeasurement())</text><line style="stroke:#181818;stroke-width:1.0;" x1="316" x2="358" y1="699.9355" y2="699.9355"/><line style="stroke:#181818;stroke-width:1.0;" x1="358" x2="358" y1="699.9355" y2="712.9355"/><line style="stroke:#181818;stroke-width:1.0;" x1="317" x2="358" y1="712.9355" y2="712.9355"/><polygon fill="#181818" points="327,708.9355,317,712.9355,327,716.9355,323,712.9355" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="694.6729">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="471" x="334" y="694.6729">peakPowerConsumption = Math.max(peakPowerConsumption, totalConsumption)</text><polygon fill="#181818" points="11,747.2266,1,751.2266,11,755.2266,7,751.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="310" y1="751.2266" y2="751.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="17" y="745.9639">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="28" y="745.9639">peakPowerConsumption</text><rect fill="none" height="43.252" style="stroke:#000000;stroke-width:1.5;" width="258" x="242" y="759.2266"/><path d="M242,759.2266 L304,759.2266 L304,768.2266 L294,778.2266 L242,778.2266 L242,759.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="255" y="775.2549">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="250" x="246" y="795.1758">UC36-SD_Part1-GetPeakPowerConsumption</text><!--SRC=[hLJ1Rjim3BthAuWUYWIB0mm3TWYQN9gjow5hi6Ox1HWOcqw4sf8Xq-dszwEa97KIPos6-MA98X_9zoYnveBW- -s7Zv307J7C2PzWRf_9GMfDtPGLQsl0vi0RWY-sgGcq0OIrtfA1YfoscLBOi3LDkIAdL8METQehD0nN7Y_0FPBRwfIk06keu_hOiyJg8O-kjd4frJ-mQAWUBSqzLZTJyX6pwS1l5hgach6i1Z0piZ3iBS5_CWaPBe0fvIW7kvNkTZN0A7IVF4v_pgMQzucGSAZvzeK1bKnQ8IaMQLCWKvVhqlGgRxfpEejf1vVgwIjCMMy5wC29KiRAjbtZ23vR1uJf9YhZWI40323N9eCMSBJNIoDw8GCwWcVD6ss2VYJEdggzdYTm4eNYuKyo4cJAfDECJ4f3ELg8kUheDyQ2he4TfayIjCksDDt-MtGQLmKDbIgihI3VTxS3ah1Z_XJ8jsTVXBZ0fWYp3OjUFqGSkBqq3Txf4bPo9FXhKoUj1g0OF2SNvpLaoEZLGauRV4dCbh5eapUEB0tNnDy8CstMlRxVt1FMZQEI3FVw_OXup6vNWSCZmivZFXbslxqYRmlk6DrPVZwUVbR-nrGE_54MZzgl5TjWEkNkKAR_RCMWSpY82byV5h0YwLpk8ijJ42gwlWvsp5bwaZgzyGZcxSAz6yFKDdxivTchAQvxWM2lNsWrIlatNTjvfHvrklR_ozFKUHt7Cjsy6PRugzTrFZXhHQOhfBb9abUmLMlszm_Slxx0Vm00]--></g></svg>